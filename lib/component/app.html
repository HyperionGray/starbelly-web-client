<ma-app class='purple-theme'>
  <ma-toast-outlet [service]='toast'></ma-toast-outlet>

  <ma-top-nav [fixed]='true'>
    <div class='float-xs-left breadcrumbs'>
      <fa name='home'></fa>
      <span *ngFor='let breadcrumb of document.breadcrumbs'>
        <fa name='angle-right' class='separator'></fa>
        <span *ngIf='breadcrumb.link == null'>
          <fa *ngIf='breadcrumb.icon != null' name='{{breadcrumb.icon}}'></fa>
          <span *ngIf='breadcrumb.name != null'>{{breadcrumb.name}}</span>
        </span>
        <span *ngIf='breadcrumb.link != null'>
          <a [routerLink]='breadcrumb.link'>
            <fa *ngIf='breadcrumb.icon != null' name='{{breadcrumb.icon}}'></fa>
            <span *ngIf='breadcrumb.name != null'>{{breadcrumb.name}}</span>
          </a>
        </span>
      </span>
    </div>
    <div class='float-xs-right'>
      <span *ngIf='server.isConnected'>
        <fa name='plug'></fa>
        Connected
      </span>
      <span *ngIf='!server.isConnected'>
        <fa name='spinner' [pulse]='true'></fa>
        Connecting to server
      </span>
    </div>
  </ma-top-nav>

  <ma-side-nav [fixed]='true'>
    <ma-side-nav-header>
      <img src='/images/logo_45px.png'>
      Starbelly
    </ma-side-nav-header>
    <ma-side-nav-item [route]='["/Dashboard"]'>
      <fa name='dashboard' [fw]='true' size='lg'></fa>
      Dashboard
      <ma-tag type='primary'
              [pill]='true'
              class='float-xs-right'>{{jobStatus.newJobBadge}}</ma-tag>
    </ma-side-nav-item>
    <ma-side-nav-item [route]='["/StartCrawl"]'>
      <fa name='play-circle' [fw]='true' size='lg'></fa> Start Crawl
    </ma-side-nav-item>
    <ma-side-nav-item [route]='["/Results", "List"]'>
      <fa name='sitemap' [fw]='true' size='lg'></fa> Crawl Results
    </ma-side-nav-item>
    <ma-side-nav-item [route]='["/Policy", "List"]'>
      <fa name='book' [fw]='true' size='lg'></fa> Crawl Policy
    </ma-side-nav-item>
    <ma-side-nav-item [route]='["/Credential", "List"]'>
      <fa name='key' [fw]='true' size='lg'></fa> Credentials
    </ma-side-nav-item>
    <ma-side-nav-item [route]='["/RateLimits"]'>
      <fa name='clock-o' [fw]='true' size='lg'></fa> Rate Limits
    </ma-side-nav-item>
    <ma-side-nav-menu>
      <ma-side-nav-menu-header>
        <fa name='gears' [fw]='true' size='lg'></fa> System
      </ma-side-nav-menu-header>
      <ma-side-nav-item [route]='["Profile"]'>
        <fa name='microchip' [fw]='true' size='lg'></fa> CPU Profile
      </ma-side-nav-item>
      <ma-side-nav-item [route]='["Resources"]'>
        <fa name='bar-chart' [fw]='true' size='lg'></fa> Resource Monitor
      </ma-side-nav-item>
      <ma-side-nav-item [route]='["Tasks"]'>
        <fa name='tasks' [fw]='true' size='lg'></fa> Task Monitor
      </ma-side-nav-item>
    </ma-side-nav-menu>
  </ma-side-nav>

  <ma-content>
    <router-outlet></router-outlet>
  </ma-content>
</ma-app>
