<ma-app class='purple-theme'>
  <ma-toast-outlet [service]='toast'></ma-toast-outlet>

  <ma-top-nav [fixed]='true'>
    <div class='float-xs-left breadcrumbs'>
      <ma-breadcrumbs></ma-breadcrumbs>
    </div>
    <div class='float-xs-right'>
      <span *ngIf='server.isConnected'>
        <fa name='plug'></fa>
        Connected
      </span>
      <span *ngIf='!server.isConnected'>
        <fa name='spinner' [pulse]='true'></fa>
        Connecting to server
      </span>
    </div>
  </ma-top-nav>

  <ma-side-nav [fixed]='true'>
    <ma-side-nav-header>
      <img src='/images/logo_45px.png'>
      Starbelly
    </ma-side-nav-header>
    <ma-side-nav-item [route]='["/Dashboard"]'>
      <fa name='dashboard' [fw]='true' size='lg'></fa>
      Dashboard
      <ma-tag type='primary'
              [pill]='true'
              class='float-xs-right'>{{jobStatus.newJobBadge}}</ma-tag>
    </ma-side-nav-item>
    <ma-side-nav-item [route]='["/StartCrawl"]'>
      <fa name='play-circle' [fw]='true' size='lg'></fa> Start Crawl
    </ma-side-nav-item>
    <ma-side-nav-item [route]='["/Schedule", "List"]'>
      <fa name='calendar' [fw]='true' size='lg'></fa> Schedule
    </ma-side-nav-item>
    <ma-side-nav-item [route]='["/Results", "List"]'>
      <fa name='sitemap' [fw]='true' size='lg'></fa> Results
    </ma-side-nav-item>
    <ma-side-nav-item [route]='["/Policy", "List"]'>
      <fa name='book' [fw]='true' size='lg'></fa> Policy
    </ma-side-nav-item>
    <ma-side-nav-menu>
      <ma-side-nav-menu-header>
        <fa name='gears' [fw]='true' size='lg'></fa> Configuration
      </ma-side-nav-menu-header>
      <ma-side-nav-item [route]='["/Captcha", "List"]'>
        <fa name='eye' [fw]='true' size='lg'></fa> CAPTCHA Solvers
      </ma-side-nav-item>
      <ma-side-nav-item [route]='["/Credential", "List"]'>
        <fa name='key' [fw]='true' size='lg'></fa> Credentials
      </ma-side-nav-item>
      <ma-side-nav-item [route]='["/RateLimits"]'>
        <fa name='clock-o' [fw]='true' size='lg'></fa> Rate Limits
      </ma-side-nav-item>
    </ma-side-nav-menu>
    <ma-side-nav-menu>
      <ma-side-nav-menu-header>
        <fa name='desktop' [fw]='true' size='lg'></fa> System
      </ma-side-nav-menu-header>
      <ma-side-nav-item [route]='["Profile"]'>
        <fa name='microchip' [fw]='true' size='lg'></fa> CPU Profile
      </ma-side-nav-item>
      <ma-side-nav-item [route]='["Resources"]'>
        <fa name='bar-chart' [fw]='true' size='lg'></fa> Resource Monitor
      </ma-side-nav-item>
      <ma-side-nav-item [route]='["Tasks"]'>
        <fa name='tasks' [fw]='true' size='lg'></fa> Task Monitor
      </ma-side-nav-item>
    </ma-side-nav-menu>
  </ma-side-nav>

  <ma-content>
    <router-outlet></router-outlet>
  </ma-content>
</ma-app>
